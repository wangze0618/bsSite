{"version":3,"file":"js/661.2d824ba9.js","mappings":"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","sources":["webpack://bs/./src/tools/tools.js","webpack://bs/./src/components/UI/bread/w-bread-item.vue","webpack://bs/./src/components/UI/bread/w-bread.vue","webpack://bs/./src/components/UI/bread/w-bread.vue?7e65","webpack://bs/./src/components/UI/pagenation/index.vue","webpack://bs/./src/components/UI/pagenation/index.vue?dcec","webpack://bs/./node_modules/@icon-park/vue-next/es/icons/Star.js","webpack://bs/./src/components/UI/star/index.vue","webpack://bs/./src/views/special/views/handmade/index.vue","webpack://bs/./src/views/special/views/handmade/index.vue?1c62"],"sourcesContent":["\"use strict\"\nexports.__esModule = true\nexports.page1 = exports.getTime = void 0\n// 格式化时间\nvar getTime = function () {\n  var date = new Date()\n  // 补零\n  var zero = function (t) {\n    return t > 10 ? t : \"0\".concat(t)\n  }\n  return \"\"\n    .concat(date.getFullYear(), \"/\")\n    .concat(date.getMonth() + 1, \"/\")\n    .concat(date.getDate(), \" \")\n    .concat(zero(date.getHours()), \":\")\n    .concat(zero(date.getMinutes()))\n}\nexports.getTime = getTime\n// 模拟分页\nvar page1 = function (arr, num) {\n  // 新建数组，用于储存新数组\n  var arrNew = []\n  // 如果单页的数组长度大于传入数组长度，则证明一个页面就可以展示\n  if (arr.length <= num) {\n    arrNew.push(arr)\n  } else {\n    // 下面这部分的操作是将 [1,2],[3.4]存入arrNew里面\n    for (var i = 0; i < Math.floor(arr.length / num); i++) {\n      arrNew.push(arr.slice(i * num, (i + 1) * num))\n      // 将剩余部分存入arrNew里面 （利用长度来判断后面有没有数字）\n      if (\n        i + 1 == Math.floor(arr.length / num) &&\n        arr.slice((i + 1) * num).length != 0\n      ) {\n        arrNew.push(arr.slice((i + 1) * num))\n      }\n    }\n  }\n  return arrNew\n}\nexports.page1 = page1\n","import script from \"./w-bread-item.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./w-bread-item.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./w-bread-item.vue?vue&type=style&index=0&id=00995324&scoped=true&lang=scss\"\n\nimport exportComponent from \"/mnt/d/vue_project/bs/bs/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-00995324\"]])\n\nexport default __exports__","<script>\r\nimport { ref, render, h } from \"vue\"\r\nexport default {\r\n  name: \"w-bread\",\r\n  props: {\r\n    // 分隔符\r\n    sp: {\r\n      type: String,\r\n    },\r\n    // icon\r\n    icon: {\r\n      type: Object,\r\n    },\r\n  },\r\n\r\n  render() {\r\n    // 获取插槽、分隔符、icon\r\n    const slot = this.$slots.default()\r\n    const sp = this.$props.sp\r\n    const icon = this.$props.icon\r\n\r\n    // 定义动态数组，将插槽的数据push到dyna里\r\n    const dyna = []\r\n    slot.forEach((item, index) => {\r\n      if (item.type[\"__name\"] == \"w-bread-item\") {\r\n        dyna.push(item)\r\n        Boolean(sp) == true\r\n          ? dyna.push(h(\"span\", { class: \"sp\" }, sp))\r\n          : dyna.push(h(icon))\r\n      } else {\r\n        item.children.forEach((item, index) => {\r\n          dyna.push(item)\r\n          Boolean(sp) == true ? dyna.push(sp) : dyna.push(h(icon))\r\n        })\r\n      }\r\n    })\r\n    // 删除最后一个icon/分隔符\r\n    dyna.pop()\r\n    // 返回VNode\r\n    return h(\"div\", { class: \"w-bread\" }, dyna)\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.w-bread {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.sp {\r\n  font-size: 22px;\r\n}\r\n</style>\r\n","import script from \"./w-bread.vue?vue&type=script&lang=js\"\nexport * from \"./w-bread.vue?vue&type=script&lang=js\"\n\nimport \"./w-bread.vue?vue&type=style&index=0&id=7d251198&scoped=true&lang=scss\"\n\nimport exportComponent from \"/mnt/d/vue_project/bs/bs/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7d251198\"]])\n\nexport default __exports__","<template>\r\n  <ul class=\"pagination\">\r\n    <li\r\n      @click=\"changePage(myCurrentPage - 1)\"\r\n      class=\"page-item\"\r\n      v-if=\"myCurrentPage > 1\"\r\n    >\r\n      <a class=\"page-link\" href=\"javascript:;\">上一页</a>\r\n    </li>\r\n    <li v-else class=\"page-item disabled\">\r\n      <a class=\"page-link\" href=\"javascript:;\">上一页</a>\r\n    </li>\r\n    <li\r\n      @click=\"changePage(i)\"\r\n      v-for=\"i in pager.btnArr\"\r\n      :class=\"{ active: i === myCurrentPage }\"\r\n      class=\"page-item\"\r\n    >\r\n      <a class=\"page-link\" href=\"javascript:;\">{{ i }}</a>\r\n    </li>\r\n\r\n    <li\r\n      v-if=\"myCurrentPage < pager.pageCount\"\r\n      @click=\"changePage(myCurrentPage + 1)\"\r\n      class=\"page-item\"\r\n    >\r\n      <a class=\"page-link\" href=\"javascript:;\">下一页</a>\r\n    </li>\r\n    <li v-else class=\"page-item disabled\">\r\n      <a class=\"page-link\" href=\"javascript:;\">下一页</a>\r\n    </li>\r\n  </ul>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, ref, toRef } from \"vue\"\r\nconst emit = defineEmits([\"getCurrentPage\"])\r\nconst props = defineProps({\r\n  total: {\r\n    type: Number,\r\n  },\r\n  pageSize: {\r\n    type: Number,\r\n  },\r\n  currentPage: {\r\n    type: Number,\r\n  },\r\n})\r\n\r\n// 1. 约定按钮的个数\r\nconst count = 5\r\n\r\n// 2. 当前显示的页码\r\nconst myCurrentPage = ref(props.currentPage)\r\n\r\n// 3. 总页数 = 总条数/每页显示条数 向上取整\r\nconst myTotal = ref(props.total)\r\nconst myPageSize = ref(props.pageSize)\r\n\r\n// 其他数据（总页数、开始按钮、结束按钮、按钮数组）依赖上述数据得到\r\nconst pager = computed(() => {\r\n  // 总页数\r\n  const pageCount = Math.ceil(myTotal.value / myPageSize.value)\r\n  // 求出 start end\r\n  let offset = Math.floor(count / 2)\r\n  let start = myCurrentPage.value - offset\r\n  let end = start + count - 1\r\n\r\n  // 处理start\r\n  if (start < 1) {\r\n    start = 1\r\n    end = start + count - 1 > pageCount ? pageCount : start + count - 1\r\n  }\r\n\r\n  if (end > pageCount) {\r\n    end = pageCount\r\n    start = end - count + 1 < 1 ? 1 : end - count + 1\r\n  }\r\n\r\n  const btnArr = []\r\n  for (let index = start; index <= end; index++) {\r\n    btnArr.push(index)\r\n  }\r\n  return {\r\n    pageCount,\r\n    btnArr,\r\n    start,\r\n    end,\r\n  }\r\n})\r\n\r\nconst changePage = (page) => {\r\n  myCurrentPage.value = page\r\n  emit(\"getCurrentPage\", myCurrentPage.value)\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.pagination {\r\n  user-select: none;\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=31d818de&scoped=true&lang=scss\"\n\nimport exportComponent from \"/mnt/d/vue_project/bs/bs/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-31d818de\"]])\n\nexport default __exports__","import { createVNode as _createVNode } from \"vue\";\nimport { IconWrapper } from '../runtime';\nexport default IconWrapper('star', false, function (props) {\n  return _createVNode(\"svg\", {\n    \"width\": props.size,\n    \"height\": props.size,\n    \"viewBox\": \"0 0 48 48\",\n    \"fill\": \"none\"\n  }, [_createVNode(\"path\", {\n    \"d\": \"M23.9986 5L17.8856 17.4776L4 19.4911L14.0589 29.3251L11.6544 43L23.9986 36.4192L36.3454 43L33.9586 29.3251L44 19.4911L30.1913 17.4776L23.9986 5Z\",\n    \"fill\": props.colors[1],\n    \"stroke\": props.colors[0],\n    \"stroke-width\": props.strokeWidth,\n    \"stroke-linejoin\": props.strokeLinejoin\n  }, null)]);\n});","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div class=\"img\"></div>\r\n  <!-- 图片 -->\r\n  <div class=\"handmade container\">\r\n    <!-- 面包屑组件 -->\r\n    <WBread class=\"bread\" sp=\">\">\r\n      <WBreadItem to=\"/\" class=\"bread-item\">首页</WBreadItem>\r\n      <WBreadItem to=\"/special\" class=\"bread-item\">特色产品</WBreadItem>\r\n      <WBreadItem class=\"bread-item\">特色手工</WBreadItem>\r\n    </WBread>\r\n    <!-- 标题 -->\r\n    <h2 class=\"title m-4\">特色手工</h2>\r\n    <!-- 主体部分 -->\r\n    <div class=\"row\">\r\n      <div\r\n        v-for=\"(item, index) in list[currentPage - 1]\"\r\n        class=\"handmade-card col-lg-4 col-sm-6\"\r\n      >\r\n        <div class=\"ct1\">\r\n          <!-- 手工略缩图 -->\r\n          <img\r\n            v-viewer=\"{\r\n              navbar: false,\r\n            }\"\r\n            :src=\"item.img_preview\"\r\n            alt=\"\"\r\n          />\r\n          <!-- 标题部分 -->\r\n          <div class=\"ct1-body\">\r\n            <div class=\"title-info\">\r\n              <span>{{ item.name }}</span>\r\n              <span>￥{{ item.price }}</span>\r\n            </div>\r\n            <!-- 评分组件 -->\r\n            <div class=\"score\">\r\n              <Star :star=\"item.star\"></Star>\r\n            </div>\r\n            <div class=\"description\">\r\n              <p>{{ item.description }}</p>\r\n              <p>地址：尧坝古镇旅游景区</p>\r\n            </div>\r\n            <div class=\"btn-info\">\r\n              <button\r\n                @click=\"goToDetail(item.id)\"\r\n                type=\"button\"\r\n                class=\"btn btn-primary\"\r\n              >\r\n                查看详情\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div v-for=\"(item, index) in list[currentPage - 1]\"></div>\r\n\r\n    <!-- 分页组件 -->\r\n    <Pagenation\r\n      class=\"m-5 justify-content-center\"\r\n      @getCurrentPage=\"changePage($event)\"\r\n      :total=\"length\"\r\n      :pageSize=\"pageSize\"\r\n      :currentPage=\"currentPage\"\r\n    ></Pagenation>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from \"vue\"\r\nimport { useStore } from \"vuex\"\r\nimport { page1 } from \"@/tools/tools\"\r\nimport WBread from \"@/components/UI/bread/w-bread.vue\"\r\nimport WBreadItem from \"@/components/UI/bread/w-bread-item.vue\"\r\nimport Pagenation from \"@/components/UI/pagenation/index.vue\"\r\nimport Star from \"@/components/UI/star/index.vue\"\r\nimport { useRouter } from \"vue-router\"\r\n\r\nconst router = useRouter()\r\nconst store = useStore()\r\nlet list = store.getters[\"handmade/handmadeList\"]()\r\nlet length = list.length\r\nconst currentPage = ref(1)\r\nconst pageSize = 4\r\n\r\n// 对数组进行分页处理\r\nlist = page1(list, pageSize)\r\n\r\n// 获取当前分页\r\nconst changePage = (data) => {\r\n  console.log(data)\r\n  currentPage.value = data\r\n}\r\n\r\nconst goToDetail = (id) => {\r\n  router.push({\r\n    name: \"SpecialHandmadeDetail\",\r\n    params: {\r\n      id,\r\n    },\r\n  })\r\n  console.log(id)\r\n}\r\n\r\nonMounted(() => {\r\n  // 利用vuex 获取手工数据\r\n  store.dispatch(\"handmade/getHandmade\")\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"@/assets/style/mixin.scss\";\r\n\r\n.img {\r\n  @include img(\"@/assets/image/usercomment.jpeg\");\r\n}\r\n.container {\r\n  padding-top: 10px;\r\n  .handmade-card {\r\n    padding: 6px;\r\n    height: 100%;\r\n\r\n    .ct1 {\r\n      @media (max-width: 576px) {\r\n        margin: 0 auto;\r\n        max-width: 300px;\r\n      }\r\n      height: 100%;\r\n      border: 1px solid rgba(162, 162, 162, 0.2);\r\n      box-shadow: 0px 9px 19px -9px rgba(0, 0, 0, 0.2);\r\n      border-radius: 6px;\r\n      overflow: hidden;\r\n      img {\r\n        width: 100%;\r\n        min-height: 320px;\r\n        transition: all 0.4s;\r\n        @media (max-width: 576px) {\r\n          min-height: 200px;\r\n        }\r\n        &:hover {\r\n          transform: scale(1.04);\r\n        }\r\n      }\r\n      .ct1-body {\r\n        padding: 16px 10px 16px 10px;\r\n        .title-info {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          span {\r\n            font-size: 22px;\r\n            font-weight: 700;\r\n          }\r\n        }\r\n        .description {\r\n          p {\r\n            margin-bottom: 0.5rem;\r\n          }\r\n        }\r\n        .btn-info {\r\n          text-align: center;\r\n          button {\r\n            border-color: #873742;\r\n            background-color: #873742;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .title {\r\n    text-align: center;\r\n  }\r\n  @include setBread;\r\n}\r\n.pagenation {\r\n  text-align: center;\r\n}\r\n</style>\r\n","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1a4888c6&scoped=true&lang=scss\"\n\nimport exportComponent from \"/mnt/d/vue_project/bs/bs/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1a4888c6\"]])\n\nexport default __exports__"],"names":["exports","getTime","date","Date","zero","t","concat","getFullYear","getMonth","getDate","getHours","getMinutes","page1","arr","num","arrNew","length","push","i","Math","floor","slice","__exports__","name","props","sp","type","String","icon","Object","render","slot","this","$slots","default","$props","dyna","forEach","item","index","Boolean","h","class","children","pop","count","myCurrentPage","ref","currentPage","myTotal","total","myPageSize","pageSize","pager","computed","pageCount","ceil","value","offset","start","end","btnArr","changePage","page","emit","IconWrapper","_createVNode","size","colors","strokeWidth","strokeLinejoin","router","useRouter","store","useStore","list","getters","data","console","log","goToDetail","id","params","onMounted","dispatch"],"sourceRoot":""}